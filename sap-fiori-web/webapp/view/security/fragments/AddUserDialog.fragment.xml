<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Dialog
        id="AddUserDialog"
        title="Añadir Usuario"
        icon="sap-icon://add"
        type="Message"
        class="customDialogSize"
        draggable="true"
        resizable="true"
    >
        <VBox
            id="AddUserDialogVbox"
            class="sapUiSmallMargin"
        >
            <!-- Campo existente: ID de Usuario -->
      <Input
          id="inputUserId"
          placeholder="ID de Usuario (obligatorio)"
          value="{newUserModel>/USERID}"
          required="true"
          valueStateText="Obligatorio" />

             <Input
          id="InputUserName"
          placeholder="Nombre de usuario (texto)"
          value="{newUserModel>/USERNAME}" />   

      <!-- Nuevo: Campo PASSWORD -->
      <Input
          id="inputUserPassword"
          placeholder="Contraseña (mínimo 6 caracteres, obligatorio)"
          type="Password"
          value="{newUserModel>/PASSWORD}"
          required="true"
          valueStateText="Obligatorio, mínimo 6 caracteres" />
      
      <!-- Nuevo: Campo ALIAS -->
      <Input
          id="inputUserAlias"
          placeholder="Alias (texto)"
          value="{newUserModel>/ALIAS}" />

      <!-- Nuevo: Campos FIRSTNAME y LASTNAME -->
      <Input
          id="inputUserFirstName"
          placeholder="Primer Nombre (obligatorio)"
          value="{newUserModel>/FIRSTNAME}"
          required="true"
          valueStateText="Obligatorio" />
      <Input
          id="inputUserLastName"
          placeholder="Apellido (obligatorio)"
          value="{newUserModel>/LASTNAME}"
          required="true"
          valueStateText="Obligatorio" />

      <!-- Nuevo: Campo EMPLOYEEID -->
      <Input
          id="inputEmployeeId"
          placeholder="ID de Empleado (número)"
          value="{newUserModel>/EMPLOYEEID}" />

      <!-- Nuevo: Campo EXTENSION -->
      <Input
          id="inputExtension"
          placeholder="Extensión (texto)"
          value="{newUserModel>/EXTENSION}" />

      <!-- Campo existente: Número telefónico -->
      <Label text="Número telefónico (10 dígitos)" labelFor="phoneDigit0"/>
<HBox>
    <Input id="phoneDigit0" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/0}" type="Number" />
    <Input id="phoneDigit1" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/1}" type="Number" />
    <Input id="phoneDigit2" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/2}" type="Number" />
    <Input id="phoneDigit3" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/3}" type="Number" />
    <Input id="phoneDigit4" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/4}" type="Number" />
    <Input id="phoneDigit5" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/5}" type="Number" />
    <Input id="phoneDigit6" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/6}" type="Number" />
    <Input id="phoneDigit7" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/7}" type="Number" />
    <Input id="phoneDigit8" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/8}" type="Number" />
    <Input id="phoneDigit9" width="2em" maxLength="1" liveChange="onPhoneDigitChange" value="{newUserModel>/PHONE_DIGITS/9}" type="Number" />
</HBox>
<Text id="phoneErrorText" text="{newUserModel>/PHONE_ERROR}" visible="{= !!${newUserModel>/PHONE_ERROR} }" design="Negative"/>

      <!-- Campo existente: Correo Electrónico -->
      <Input
          id="inputUserEmail"
          placeholder="Correo Electrónico (ejemplo@dominio.com, obligatorio)"
          value="{newUserModel>/EMAIL}"
          liveChange="onEmailInputChange"
          required="true"
          valueState="{= ${newUserModel>/EMAIL_ERROR} ? 'Error' : 'None' }"
          valueStateText="{newUserModel>/EMAIL_ERROR}" />

      <!-- Campo existente: Fecha de nacimiento -->
      <DatePicker
          id="inputUserBirthdayDate"
          placeholder="Fecha de nacimiento (YYYY-MM-DD)"
          value="{newUserModel>/BIRTHDAYDATE}"
          valueFormat="yyyy-MM-dd"
          displayFormat="yyyy-MM-dd"
          valueStateText="Formato: YYYY-MM-DD" />

      <!-- Nuevo: Campo AVATAR (URL del avatar o similar) -->
      <Input
          id="inputUserAvatar"
          placeholder="URL del Avatar (texto)"
          value="{newUserModel>/AVATAR}" />

      <!-- ComboBox de compañías -->
      <ComboBox
          id="comboBoxCompanies"
          items="{companies>/companies}"
          selectionChange="onCompanySelected"
          required="true"
          placeholder="Selecciona una empresa">
        <core:Item
            key="{companies>COMPANYID}"
            text="{companies>VALUE}" />
      </ComboBox>

      <!-- ComboBox de CEDIS (inicialmente deshabilitado) -->
      <ComboBox
          id="comboBoxCedis"
          items="{cedis>/cedis}"
          selectionChange="onCediSelected"
          enabled="false"
          required="true"
          placeholder="Selecciona un CEDI">
        <core:Item
            key="{cedis>CEDIID}"
            text="{cedis>CEDIIDLABEL}" />
      </ComboBox>

      <!-- ComboBox de Departamentos -->
      <ComboBox
          id="comboBoxDepartments"
          items="{departments>/departments}"
          enabled="false"
          required="true"
          selectionChange="onDepartmentSelected"
          placeholder="Selecciona un departamento">
        <core:Item
            key="{departments>_id}"
            text="{departments>VALUE}" />
      </ComboBox>

      <!-- Combobox: Roles -->
      <ComboBox
          id="comboBoxRoles"
          items="{roles>/roles}"
          selectionChange="onRoleSelected"
          placeholder="Selecciona un Rol">
        <core:Item
            key="{roles>ROLEID}"
            text="{roles>ROLENAME}" />
      </ComboBox>

      <!-- Caja para mostrar roles seleccionados -->
      <VBox
          id="selectedRolesVBox"
          class="sapUiSmallMarginTop">
        <!-- Aquí se mostrarán los roles seleccionados -->
      </VBox>

      <!-- Grupo: Datos de dirección -->
      <Title text="Dirección" level="H4" />
      <!-- Nuevo: Calle -->
      <Input
          id="inputStreetUser"
          placeholder="Calle (texto)"
          value="{newUserModel>/STREET}" />
      <!-- Nuevo: Código Postal -->
      <Input
          id="inputPostalCodeUser"
          placeholder="Código Postal (número)"
          value="{newUserModel>/POSTALCODE}" />
      <!-- Nuevo: Ciudad -->
      <Input
          id="inputCityUser"
          placeholder="Ciudad (texto)"
          value="{newUserModel>/CITY}" />
      <!-- Nuevo: Región -->
      <Input
          id="inputRegionUser"
          placeholder="Región (texto)"
          value="{newUserModel>/REGION}" />
      <!-- Nuevo: Estado -->
      <Input
          id="inputStateUser"
          placeholder="Estado (texto)"
          value="{newUserModel>/STATE}" />
      <!-- Nuevo: País -->
      <Input
          id="inputCountryUser"
          placeholder="País (texto)"
          value="{newUserModel>/COUNTRY}" />

      <!-- Campo existente: Función que ejerce -->
      <Input
          id="inputUserFunction"
          placeholder="Función que ejerce (texto)"
          value="{newUserModel>/FUNCTION}" />
    </VBox>

        <beginButton>
            <Button
                id="SaveNewUser"
                text="Guardar"
                type="Emphasized"
                press="onSaveUser"
            />
        </beginButton>

        <endButton>
            <Button
                id="CancelSaveUser"
                text="Cancelar"
                press="onCancelUser"
            />
        </endButton>
    </Dialog>
</core:FragmentDefinition>
