<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:l="sap.ui.layout">
    <Panel id="ResultPanel"  
        expandable="true" 
        expanded="{viewModel>/resultPanelExpanded}"
        busy="{viewModel>/simulationBusy}" 
        headerText="Panel de Resultados">    

            <VBox class="sapUiSmallMargin">
                <Title text="Saldo Inicial" level="H2"/>
                <ObjectNumber number="1,000.00" unit="USD"/>
            </VBox>

            <!-- Simulación 1 (Dinámica) -->
            <VBox class="sapUiSmallMargin sapUiTinyMarginTop">
                <Title text="Simulación 3" level="H2"/>
                <List>
                    <CustomListItem>
                        <VBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="No. Simulación:"/>
                                <Text text="{strategyResultModel>/simulationNumber}"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Saldo Inicial General:"/>
                                <ObjectNumber number="{path: 'strategyResultModel>/initialGeneralBalance', formatter: '.formatNumber'}" unit="USD"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Saldo Inicial en Simulación:"/>
                                <ObjectNumber number="{path: 'strategyResultModel>/initialSimulationBalance', formatter: '.formatNumber'}" unit="USD"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Saldo Final en Simulación:"/>
                                <ObjectNumber number="{path: 'strategyResultModel>/finalSimulationBalance', formatter: '.formatNumber'}" unit="USD"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Número de Acciones Inicial:"/>
                                <Text text="{strategyResultModel>/initialShares}"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Saldo Total al Iniciar:"/>
                                <ObjectNumber number="{path: 'strategyResultModel>/initialTotalBalance', formatter: '.formatNumber'}" unit="USD"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Número de Acciones Final:"/>
                                <Text text="{strategyResultModel>/finalShares}"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Saldo Total al Finalizar:"/>
                                <ObjectNumber number="{path: 'strategyResultModel>/finalTotalBalance', formatter: '.formatNumber'}" unit="USD"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Saldo Total de Acciones:"/>
                                <ObjectNumber number="{path: 'strategyResultModel>/finalSharesValue', formatter: '.formatNumber'}" unit="USD"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Saldo Total General:"/>
                                <ObjectNumber number="{path: 'strategyResultModel>/totalGeneralBalance', formatter: '.formatNumber'}" unit="USD"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Rendimiento ($):"/>
                                <ObjectNumber 
                                    number="{path: 'strategyResultModel>/simulationProfit', formatter: '.formatNumber'}" 
                                    unit="USD"
                                    state="{= ${strategyResultModel>/simulationProfit} >= 0 ? 'Success' : 'Error'}"/>
                            </HBox>
                            <HBox justifyContent="SpaceBetween">
                                <Label text="Rendimiento (%):"/>
                                <ObjectNumber 
                                    number="{path: 'strategyResultModel>/profitPercentage', formatter: '.formatNumber'}" 
                                    unit="%"
                                    state="{= ${strategyResultModel>/profitPercentage} >= 0 ? 'Success' : 'Error'}"/>
                            </HBox>
                        </VBox>
                    </CustomListItem>
                </List>
            </VBox>

        <!-- Simulación 2 -->
        <VBox class="sapUiSmallMargin sapUiTinyMarginTop">
            <Title text="Simulación 2" level="H2"/>
            <List>
                <CustomListItem>
                    <VBox>
                        <HBox justifyContent="SpaceBetween"><Label text="No. Simulación:"/><Text text="2"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Inicial General:"/><ObjectNumber number="1,015.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Inicial en Simulación:"/><ObjectNumber number="400.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Final en Simulación:"/><ObjectNumber number="440.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Número de Acciones Inicial:"/><Text text="0"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total al Iniciar:"/><ObjectNumber number="400.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Número de Acciones Final:"/><Text text="8"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total al Finalizar:"/><ObjectNumber number="440.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total de Acciones:"/><ObjectNumber number="400.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total General:"/><ObjectNumber number="1,055.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Rendimiento ($):"/><ObjectNumber number="40.00" unit="USD" state="Success"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Rendimiento (%):"/><ObjectNumber number="10.00" unit="%" state="Success"/></HBox>
                    </VBox>
                </CustomListItem>
            </List>
        </VBox>

        <!-- Simulación 1 -->
        <VBox class="sapUiSmallMargin sapUiTinyMarginTop">
            <Title text="Simulación 1" level="H2"/>
            <List>
                <CustomListItem>
                    <VBox>
                        <HBox justifyContent="SpaceBetween"><Label text="No. Simulación:"/><Text text="3"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Inicial General:"/><ObjectNumber number="1,000.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Inicial en Simulación:"/><ObjectNumber number="300.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Final en Simulación:"/><ObjectNumber number="315.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Número de Acciones Inicial:"/><Text text="0"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total al Iniciar:"/><ObjectNumber number="300.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Número de Acciones Final:"/><Text text="6"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total al Finalizar:"/><ObjectNumber number="315.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total de Acciones:"/><ObjectNumber number="300.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total General:"/><ObjectNumber number="1015.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Rendimiento ($):"/><ObjectNumber number="15.00" unit="USD" state="Success"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Rendimiento (%):"/><ObjectNumber number="5.00" unit="%" state="Success"/></HBox>
                    </VBox>
                </CustomListItem>
            </List>
        </VBox>

        <!-- Rendimiento Global -->
        <VBox class="sapUiSmallMargin sapUiTinyMarginTop">
            <Title text="Rendimiento Global" level="H2"/>
            <List>
                <CustomListItem>
                    <VBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total:"/><ObjectNumber number="1,000.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total de Acciones:"/><ObjectNumber number="945.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Saldo Total General:"/><ObjectNumber number="1,055.00" unit="USD"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Rendimiento Total ($):"/><ObjectNumber number="55.00" unit="USD" state="Success"/></HBox>
                        <HBox justifyContent="SpaceBetween"><Label text="Rendimiento Total (%):"/><ObjectNumber number="5.50" unit="%" state="Success"/></HBox>
                    </VBox>
                </CustomListItem>
            </List>
        </VBox>
    </Panel>
</core:FragmentDefinition>
